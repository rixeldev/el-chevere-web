---
import UpArrow from '@/icons/UpArrow.astro'
---

<a
	id='go-top-btn'
	class='group fixed bottom-24 right-5 z-30 flex size-12 cursor-pointer items-center justify-center rounded-2xl border border-accent/30 bg-glass text-accent shadow-lg shadow-accent/20 backdrop-blur-md transition-all duration-300 hover:scale-110 hover:border-accent/50 hover:bg-accent/10 hover:shadow-xl hover:shadow-accent/30 active:scale-95'
	aria-label='Go to top'
>
	<UpArrow class='size-6 transition-transform duration-300 group-hover:-translate-y-1' />
</a>

<style>
	#go-top-btn {
		visibility: hidden;
		opacity: 0;
		animation: visibility linear both;
		animation-timeline: scroll();
		animation-range: 0 300px;
	}

	@keyframes visibility {
		to {
			visibility: visible;
			opacity: 1;
		}
	}
</style>

<script>
	import { $ } from '@/libs/dom-selector.ts'

	document.addEventListener('astro:page-load', () => {
		const goToTopBtn = $('#go-top-btn') as HTMLAnchorElement
		goToTopBtn.addEventListener('click', (e) => {
			e.preventDefault()
			window.scrollTo({ top: 0, behavior: 'smooth' })
		})
	})
</script>
